<!DOCTYPE html>
<html lang="en">
<head><audio id="spin-sound" src="sounds/spin-sound.mp3" preload="auto"></audio>
<audio id="win-sound" src="sounds/win-sound.mp3" preload="auto"></audio>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime World</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial', sans-serif;
        }

        body {
            background-color: #ff8c00;
            background-image: 
                linear-gradient(45deg, #ff4500 25%, transparent 25%),
                linear-gradient(-45deg, #ff4500 25%, transparent 25%),
                linear-gradient(45deg, transparent 75%, #ff4500 75%),
                linear-gradient(-45deg, transparent 75%, #ff4500 75%);
            background-size: 100px 100px;
            background-position: 0 0, 0 50px, 50px -50px, -50px 0px;
            color: white;
            overflow-x: hidden;
        }

        .header {
            text-align: center;
            padding: 30px 0;
            background-color: rgba(0, 0, 0, 0.7);
            position: relative;
            z-index: 10;
        }

        .header h1 {
            font-size: 4rem;
            text-shadow: 3px 3px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
            color: #ffcc00;
            letter-spacing: 5px;
        }

        .slider-container {
            position: relative;
            width: 100%;
            overflow: hidden;
            background-color: rgba(0, 0, 0, 0.8);
            padding: 20px 0;
            margin: 20px 0;
            border-top: 5px solid black;
            border-bottom: 5px solid black;
        }

        .slider {
            display: flex;
            width: max-content;
            animation: scroll 30s linear infinite;
        }

        .anime-cover {
            width: 200px;
            height: 300px;
            margin: 0 15px;
            border: 5px solid black;
            border-radius: 5px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);
            transition: transform 0.3s;
            flex-shrink: 0;
        }

        .anime-cover:hover {
            transform: scale(1.05);
            z-index: 5;
        }

        .anime-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .anime-cover::before, .anime-cover::after {
            content: '';
            position: absolute;
            left: 0;
            width: 100%;
            height: 10px;
            background-color: black;
            z-index: 2;
        }

        .anime-cover::before {
            top: 0;
        }

        .anime-cover::after {
            bottom: 0;
        }

        .top-anime {
            padding: 30px;
            background-color: rgba(0, 0, 0, 0.7);
            margin: 40px auto;
            max-width: 1200px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }

        .top-anime h2 {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 30px;
            color: #ffcc00;
            text-shadow: 2px 2px 0 #000;
        }

        .anime-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
        }

        .anime-card {
            background-color: rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s;
            border: 3px solid #333;
        }

        .anime-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }

        .anime-card img {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-bottom: 2px solid #ffcc00;
        }

        .anime-card h3 {
            padding: 10px;
            text-align: center;
            font-size: 1.1rem;height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: rgba(0, 0, 0, 0.7);
        }

        @keyframes scroll {
            0% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(calc(-200px * 7));
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ANIME WORLD</h1>
    </div>

    <div class="slider-container">
        <div class="slider">
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/10/47347.jpg" alt="Attack on Titan">
            </div>
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/1565/111305.jpg" alt="Naruto">
            </div>
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/6/44297.jpg" alt="One Piece">
            </div>
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/13/8518.jpg" alt="Death Note">
            </div>
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/1286/99889.jpg" alt="Demon Slayer">
            </div>
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/10/78745.jpg" alt="My Hero Academia">
            </div>
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/8/65409.jpg" alt="Nanatsu no taizai">
            </div>
            <!-- Дублируем для бесшовного скролла -->
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/1032/135088.jpg" alt="Code Geass">
            </div>
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/1171/106036.jpg" alt="JoJo">
            </div>
            <div class="anime-cover">
                <img src="https://cdn.myanimelist.net/images/anime/1337/99013.jpg" alt="HxH">
            </div>
        </div>
    </div>

    <div class="top-anime">
        <h2>TOP 10 BEST ANIME</h2>
        <div class="anime-grid">
            <div class="anime-card">
                <img src="https://cdn.myanimelist.net/images/anime/8/65409.jpg" alt="Nanatsu no tasai">
                <h3>1. Nanatsu no tasai</h3>
            </div>
            <div class="anime-card">
                <img src="https://cdn.myanimelist.net/images/anime/1171/106036.jpg" alt="JoJo">
                <h3>2. JoJo</h3>
            </div>
            <div class="anime-card">
                <img src="https://cdn.myanimelist.net/images/anime/1337/99013.jpg" alt="Hunter X Hunter">
                <h3>3. Hunter x Hunter</h3>
            </div>
            <div class="anime-card">
                <img src="https://cdn.myanimelist.net/images/anime/2/88336.jpg" alt="Black clover">
                <h3>4. Black clover</h3>
            </div>
        </div>
    </div>

    <script>
        // Добавляем больше аниме при загрузке
        document.addEventListener('DOMContentLoaded', function() {
            const slider = document.querySelector('.slider');
            const topAnimeGrid = document.querySelector('.anime-grid');
            
            const animeList = [
                { title: "Attack on Titan", cover: "https://cdn.myanimelist.net/images/anime/10/47347.jpg", rank: 5 },
                { title: "Naruto", cover: "https://cdn.myanimelist.net/images/anime/1565/111305.jpg", rank: 6 },
                { title: "One Piece", cover: "https://cdn.myanimelist.net/images/anime/6/44297.jpg", rank: 7 },
                { title: "Death Note", cover: "https://cdn.myanimelist.net/images/anime/13/8518.jpg", rank: 8 },
                { title: "Demon Slayer", cover: "https://cdn.myanimelist.net/images/anime/1286/99889.jpg", rank: 9 },
                { title: "My Hero Academia", cover: "https://cdn.myanimelist.net/images/anime/10/78745.jpg", rank: 10 },
            ];

            // Добавляем обложки в слайдер
            animeList.forEach(anime => {
                const cover = document.createElement('div');
                cover.className = 'anime-cover';
                cover.innerHTML = `<img src="${anime.cover}" alt="${anime.title}">`;
                slider.appendChild(cover.cloneNode(true));
            });

            // Добавляем карточки в топ
            animeList.forEach(anime => {
                const card = document.createElement('div');
                card.className = 'anime-card';
                card.innerHTML = `
                    <img src="${anime.cover}" alt="${anime.title}">
                    <h3>${anime.rank}. ${anime.title}</h3>
                `;
                topAnimeGrid.appendChild(card);
            });
        });
    </script>
</body>
</html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Anime World</title>
    <style>
        /* Все предыдущие стили остаются без изменений */
        
        /* Добавляем новые стили для персонажей */
        .legendary-characters {
            padding: 40px 20px;
            background-color: rgba(0, 0, 0, 0.7);
            margin-top: 50px;
            text-align: center;
        }
        
        .legendary-characters h2 {
            font-size: 2.5rem;
            margin-bottom: 40px;
            color: #ffcc00;
            text-shadow: 2px 2px 0 #000;
        }
        
        .characters-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 30px;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        .character-card {
            width: 180px;
            position: relative;
            cursor: pointer;
            transition: transform 0.3s;
        }
        
        .character-card:hover {
            transform: scale(1.1);
        }
        
        .character-image {
            width: 100%;
            height: 250px;
            object-fit: contain;
            object-position: center bottom;
            filter: drop-shadow(0 0 10px rgba(255, 204, 0, 0.7));
        }
        
        .character-name {
            text-align: center;
            margin-top: 10px;
            font-weight: bold;
            color: #ffcc00;
            text-shadow: 1px 1px 0 #000;
        }
        
        .character-info {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 15px;
            transform: translateY(100%);
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 10;
            border: 2px solid #ffcc00;
            border-radius: 0 0 10px 10px;
        }
        
        .character-card:hover .character-info {
            opacity: 1;
            transform: translateY(0);
        }
        
        .character-info h3 {
            color: #ffcc00;
            margin-bottom: 10px;
            border-bottom: 1px solid #ffcc00;
            padding-bottom: 5px;
        }
    </style>
</head>
<body>
    <!-- Весь предыдущий HTML остается без изменений -->
    
    <!-- Добавляем новую секцию после топ-аниме -->
    <div class="legendary-characters">
        <h2>LEGENDARY ANIME CHARACTERS</h2>
        <div class="characters-grid" id="characters-grid">
            <!-- Персонажи будут добавлены через JavaScript -->
        </div>
    </div>

    <script>
        // Добавляем данные о персонажах
        const charactersData = [
            {
                name: "Goku",
                anime: "Dragon Ball",
                image: "https://i.pinimg.com/736x/dc/41/8c/dc418c8d277365d59b6dc0875c611b59.jpg", // Замените на реальную ссылку
                description: "Главный герой серии Dragon Ball. Саянин, защищающий Землю от различных угроз. Обладает невероятной силой и постоянно стремится стать сильнее."
            },
            {
                name: "Naruto Uzumaki",
                anime: "Naruto",
                image: "https://i.pinimg.com/736x/04/97/24/049724441723ca580f274c24e439e068.jpg", // Замените на реальную ссылку
                description: "Шиноби из Скрытого Листа, мечтающий стать Хокаге. Внутри него запечатан Девятихвостый демон. Известен своей настойчивостью и техникой 'Теневого Клонирования'."
            },
            {
                name: "Monkey D. Luffy",
                anime: "One Piece",
                image: "https://i.pinimg.com/originals/be/1d/ab/be1dab07f3fc9ee5a726e3439342fb14.png", // Замените на реальную ссылку
                description: "Капитан пиратов Соломенной Шляпы, обладающий телом резины после съедения Дьявольского плода Гому-Гому. Мечтает стать Королём Пиратов."
            },
            {
                name: "Eren Yeager",
                anime:"Attack on Titan",
                image: "https://i.pinimg.com/736x/58/6d/85/586d851f55cb77c27f4f8e2cf835418c.jpg", // Замените на реальную ссылку
                description: "Главный протагонист Attack on Titan. Обладает способностью превращаться в Титана. Его мотивация меняется от мести до сложных философских убеждений."
            },
            {
                name: "Light Yagami",
                anime: "Death Note",
                image: "https://i.pinimg.com/originals/65/49/ca/6549ca044862173f8b12a51d9fb6e57a.jpg", // Замените на реальную ссылку
                description: "Гениальный студент, нашедший Тетрадь Смерти. Пытается создать идеальный мир, уничтожая преступников, но постепенно теряет человечность."
            },
            {
                name: "Meliodas",
                anime: "7 deadly sins",
                image: "https://i.pinimg.com/736x/c9/b5/31/c9b531b869f5d43e1b1c8e3ea406931b.jpg", // Замените на реальную ссылку
                description: " Мелиодас ялвяется капитаном 7 смертных грехов и королем демонов, его целью было снять проклятье с себя и с Элизабет."
            }
            
        ];

        // Добавляем персонажей на страницу
        document.addEventListener('DOMContentLoaded', function() {
            const charactersGrid = document.getElementById('characters-grid');
            
            charactersData.forEach(character => {
                const card = document.createElement('div');
                card.className = 'character-card';
                card.innerHTML = `
                    <img src="${character.image}" alt="${character.name}" class="character-image">
                    <div class="character-name">${character.name}</div>
                    <div class="character-info">
                        <h3>${character.name} (${character.anime})</h3>
                        <p>${character.description}</p>
                    </div>
                `;
                charactersGrid.appendChild(card);
            });
        });
    </script>
    <div class="anime-trailers">
    <h2>ANIME TRAILERS</h2>
    <div class="trailer-grid">
        <!-- Трейлер Attack on Titan -->
        <div class="trailer" onclick="openTrailer('https://www.youtube.com/watch?v=wxcvbL6o55M')">
            <img src="https://avatars.mds.yandex.net/get-kinopoisk-image/1599028/1f379f7e-c154-4d3b-8ec2-e18435daa991/1920x" alt="Seven deadly sins">
            <div class="play-icon">▶</div>
        </div>
        
        <!-- Трейлер Demon Slayer -->
        <div class="trailer" onclick="openTrailer('https://www.youtube.com/watch?v=RHkvkwnQbEQ')">
            <img src="https://cdn1.ozone.ru/s3/multimedia-k/6636781136.jpg" alt="JoJo">
            <div class="play-icon">▶</div>
        </div>
    </div>
</div>

<style>
    .anime-trailers {
        background: rgba(0,0,0,0.8);
        padding: 30px;
        margin-top: 50px;
        border-top: 3px solid #ffcc00;
    }
    
    .anime-trailers h2 {
        text-align: center;
        color: #ffcc00;
        font-size: 2rem;
        margin-bottom: 30px;
    }
    
    .trailer-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        max-width: 1200px;
        margin: 0 auto;
    }
    
    .trailer {
        position: relative;
        cursor: pointer;
        transition: transform 0.3s;
    }
    
    .trailer:hover {
        transform: scale(1.03);
    }
    
    .trailer img {
        width: 100%;
        border-radius: 5px;
        border: 2px solid #ffcc00;
    }
    
    .play-icon {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: rgba(255,0,0,0.7);
        color: white;
        width: 60px;
        height: 60px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
    }
</style>

<script>
    function openTrailer(url) {
        // Открываем видео в новом окне
        window.open(url, '_blank');
        
        // ИЛИ встраиваем прямо на страницу (раскомментируйте):
        // document.getElementById('trailer-container').innerHTML = `
        //    <iframe width="100%" height="400" src="${url.replace('watch?v=', 'embed/')}" frameborder="0" allowfullscreen></iframe>
        // `;
    }
</script>
<div class="anime-of-the-day">
    <h2>АНИМЕ ДНЯ</h2>
    <div class="roulette-container">
        <div class="roulette-track" id="roulette-track"></div>
    </div>
    <button id="spin-btn">Крутить рулетку</button>
    <div class="selected-anime" id="selected-anime" style="display: none;">
        <div class="anime-spotlight">
            <img id="selected-cover" src="" alt="">
            <div class="anime-info">
                <h3 id="selected-title"></h3>
                <p id="selected-description"></p>
            </div>
        </div>
    </div>
</div>

<style>
    .anime-of-the-day {
        background: rgba(0, 0, 0, 0.8);
        padding: 40px 20px;
        margin-top: 50px;
        text-align: center;
        border-top: 3px solid #ffcc00;
    }
    
    .anime-of-the-day h2 {
        color: #ffcc00;
        font-size: 2.5rem;
        margin-bottom: 30px;
        text-shadow: 2px 2px 0 #000;
    }
    
    .roulette-container {
        width: 100%;
        overflow: hidden;
        height: 250px;
        position: relative;
        margin: 0 auto 30px;
    }
    
    .roulette-track {
        display: flex;
        position: absolute;
        left: 0;
        transition: transform 4s cubic-bezier(0.17, 0.67, 0.12, 0.99);
    }
    
    .roulette-anime {
        width: 150px;
        height: 200px;
        margin: 0 10px;
        border: 3px solid #333;
        border-radius: 5px;
        overflow: hidden;
        flex-shrink: 0;
        transition: transform 0.3s;
    }
    
    .roulette-anime img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    #spin-btn {
        background: #ffcc00;
        color: #000;
        border: none;
        padding: 12px 30px;
        font-size: 1.2rem;
        font-weight: bold;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s;
        margin-bottom: 20px;
    }
    
    #spin-btn:hover {
        background: #ff9900;
        transform: scale(1.05);
    }
    
    .selected-anime {
        max-width: 800px;
        margin: 0 auto;
        animation: fadeIn 1s;
    }
    
    .anime-spotlight {
        display: flex;
        align-items: center;
        gap: 30px;
        text-align: left;
    }
    
    .anime-spotlight img {
        width: 300px;
        height: 400px;
        object-fit: cover;
        border: 5px solid #ffcc00;
        border-radius: 10px;
        animation: pulse 2s infinite;
    }
    
    .anime-info {
        flex: 1;
    }
    
    .anime-info h3 {
        color: #ffcc00;
        font-size: 2rem;
        margin-bottom: 20px;
    }
    
    .anime-info p {
        color: #fff;
        line-height: 1.6;
    }
    
    @keyframes pulse {
        0% { box-shadow: 0 0 10px #ffcc00; }
        50% { box-shadow: 0 0 30px #ff9900; }
        100% { box-shadow: 0 0 10px #ffcc00; }
    }
    
    @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
    }
</style>

<script>
    const animeList = [
    {
            title: "Семь смертных грехов",
            cover: "https://avatars.mds.yandex.net/get-mpic/5297750/2a0000018e7fcf4fbfe83a71d4dcf6d40297/orig",
            description: "История о группе рыцарей, каждый из которых олицетворяет один из семи смертных грехов. Они объединяются, чтобы спасти королевство от тирании."
        },
        {
            title: "Атака Титанов",
            cover: "https://i.pinimg.com/originals/f7/b5/86/f7b586c4d26090a098f774fde5d704a0.jpg",
            description: "Человечество находится на грани вымирания из-за гигантских существ - титанов. Юный Эрен Йегер клянётся уничтожить всех титанов."
        },
        {
            title: "Наруто",
            cover: "https://i.ebayimg.com/images/g/p7oAAOSwYhlisrVm/s-l1600.jpg",
            description: "История о мальчике-ниндзя Наруто Узумаки, который мечтает стать Хокаге - лидером своей деревни, чтобы все признали его силу."
        },
        {
            title: "Код Гиас",
            cover: "https://cdn.myanimelist.net/images/anime/1032/135088.jpg",
            description: "История рассказывает о недалёком будущем, когда Британской Империей было захвачено полмира. Японии в этом варианте не существует — она завоёвана Британией годы назад и переименована в «11-й сектор», а сами японцы уничижительно зовутся «одиннадцатыми»."
        },
        {
            title: "ДжоДжо",
            cover: "https://shikimori.one/uploads/poster/animes/14719/main-a98e992d4050584ed311999d58dcfb2b.webp",
            description: "История о том, как род джостаров столкнулся с их заклятым врагом - Дио Брандо и они противостоят почти каждую часть"
        },
        {
            title: "Доктор стоун",
            cover: "https://images.kinorium.com/movie/poster/2037234/1080_50166785.jpg",
            description: "Ничего не предвещало тот роковой день, когда внезапная ослепляющая вспышка уничтожила человечество, превратив всех людей в камень и гг сенку предстоит спасти человечество."
        },
        {
            title: "Черный клевер",
            cover: "https://avatars.mds.yandex.net/get-kinopoisk-image/4303601/d08031d8-1021-4fe1-897d-d1899d12b3b4/1920x",
            description: "История о том, как главный герой Аста без капельки магии получает 5 листный гримуар в котором скрыт демон,он мечтает стать королем магов."
        },
        {
            title: "Гурен лаганн",
            cover: "https://avatars.dzeninfra.ru/get-zen_doc/4636135/pub_6021cc96390eb32b9b74bbd1_6021cdeeb73c460f6c10ab06/scale_1200",
            description: "В далёком будущем человечество живёт общинами глубоко под землёй в пещерах, не зная о мире на поверхности, о небе и звёздах."
        },
        {
            title: "Ван пис",
            cover: "https://avatars.mds.yandex.net/get-kinopoisk-image/6201401/3f0fbf88-6f11-4307-b169-8474d1acbdfa/3840x",
            description: "аниме где луффи - имеет способность стать резиной съев дьяволский фрукт и он мечтает стать королем пиратов"
        },
        {
            title: "Семья Шпиона",
            cover: "https://i.pinimg.com/736x/57/ec/f5/57ecf539bfa30d20acc3a9f3268a2b68.jpg",
            description: "история про то, как агент Лоис должен завести семью для устранения одной важной цели"
        },
        {
            title: "Монолог формацевта",
            cover: "https://avatars.mds.yandex.net/get-kinopoisk-image/10592371/544e418a-3464-4e55-9101-57144eeaaff3/1920x",
            description: "Древний Китай. 17-летнюю девушку Маомао похищают и в качестве служанки продают в императорский дворец. Однажды она узнаёт, что двух младенцев императора поразил серьёзный недуг. Обладая опытом и знаниями в фармацевтике, Маомао решает тайно разузнать детали и попытаться помочь."
        },
        {
            title: "Поднятие уровня в одиночку",
            cover: "https://i.pinimg.com/736x/d3/b1/89/d3b1896f4a66ba5cf0591932ebae3cb0.jpg",
            description: "мир где загадочным образом стали появляться подземелья и магия. главного героя кличут слабейшим оружием планеты, но на двойном подземелье ему дают шанс стать сильнее."
        }
    ];
    // Элементы
    const rouletteTrack = document.getElementById('roulette-track');
    const spinBtn = document.getElementById('spin-btn');
    const selectedAnime = document.getElementById('selected-anime');
    const spinSound = document.getElementById('spin-sound');
    const winSound = document.getElementById('win-sound');

    // Инициализация рулетки
    function initRoulette() {
        rouletteTrack.innerHTML = '';
        const copies = 5; // Увеличили для плавности
        
        animeList.forEach((anime, index) => {
            const animeElement = document.createElement('div');
            animeElement.className = 'roulette-anime';
            animeElement.innerHTML = `<img src="${anime.cover}" alt="${anime.title}">`;
            rouletteTrack.appendChild(animeElement.cloneNode(true));
            
            // Создаём несколько копий каждого элемента
            for (let i = 1; i < copies; i++) {
                rouletteTrack.appendChild(animeElement.cloneNode(true));
            }
        });
        
        rouletteTrack.style.width = `${animeList.length * 170 * copies}px`;
    }

    // Гарантированно равные шансы
    function getRandomAnime() {
        // Простой рандом без смещения
        return animeList[Math.floor(Math.random() * animeList.length)];
    }

    // Прокрутка с эффектами
    function spinRoulette() {
        spinBtn.disabled = true;
        selectedAnime.style.display = 'none';
        
        // Сбрасываем позицию для плавности
        rouletteTrack.style.transition = 'none';
        rouletteTrack.style.transform = 'translateX(0)';
        
        // Запускаем звук прокрутки
        spinSound.currentTime = 0;
        spinSound.play();
        
        // Даём время на рендер
        setTimeout(() => {
            const selected = getRandomAnime();
            const itemWidth = 170;
            const scrollDistance = animeList.length * itemWidth * 3 + 
                                 animeList.indexOf(selected) * itemWidth;
            
            // Плавная анимация
            rouletteTrack.style.transition = 'transform 4s cubic-bezier(0.2, 0.8, 0.4, 1)';
            rouletteTrack.style.transform = `translateX(-${scrollDistance}px)`;
            
            // Завершение анимации
            setTimeout(() => {
                // Звук победы
                spinSound.pause();



winSound.currentTime = 0;
                winSound.play();
                
                showSelectedAnime(selected);
                spinBtn.disabled = false;
                
                // Мягкий сброс позиции
                setTimeout(() => {
                    rouletteTrack.style.transition = 'none';
                    const resetPos = - (animeList.length * itemWidth * 2);
                    rouletteTrack.style.transform = `translateX(${resetPos}px)`;
                }, 100);
            }, 4000);
        }, 50);
    }

    // Показ выбранного аниме
    function showSelectedAnime(anime) {
        document.getElementById('selected-cover').src = anime.cover;
        document.getElementById('selected-title').textContent = anime.title;
        document.getElementById('selected-description').textContent = anime.description;
        selectedAnime.style.display = 'block';
        
        // Анимация "победы"
        selectedAnime.style.animation = 'none';
        setTimeout(() => {
            selectedAnime.style.animation = 'pulse 0.5s 3';
        }, 10);
    }

    // Инициализация
    window.onload = function() {
        initRoulette();
        spinBtn.addEventListener('click', spinRoulette);
    };
</script>

<style>
    /* Добавляем анимацию пульсации */
    @keyframes pulse {
        0% { transform: scale(1); }
        50% { transform: scale(1.02); }
        100% { transform: scale(1); }
    }
    
    .selected-anime {
        animation: pulse 0.5s 3;
    }
    
    /* Градиенты для плавных краёв */
    .roulette-container::before,
    .roulette-container::after {
        content: '';
        position: absolute;
        top: 0;
        bottom: 0;
        width: 150px;
        z-index: 2;
        pointer-events: none;
    }
    
    .roulette-container::before {
        left: 0;
        background: linear-gradient(90deg, rgba(0,0,0,0.9) 0%, transparent 100%);
    }
    
    .roulette-container::after {
        right: 0;
        background: linear-gradient(270deg, rgba(0,0,0,0.9) 0%, transparent 100%);
    }
</style>
</script>
<div class="anime-wallpaper">
    <div class="weather-info">
        <div class="weather-icon" id="weather-icon">☀️</div>
        <div class="weather-temp" id="weather-temp">24°C</div>
        <div class="weather-location" id="weather-location">Коноха</div>
    </div>
</div>

<style>
    .anime-wallpaper {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: -1;
        background-size: cover;
        background-position: center;
        transition: background-image 1.5s ease-in-out;
        filter: brightness(0.7);
    }
    
    .weather-info {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(0, 0, 0, 0.7);
        padding: 15px;
        border-radius: 10px;
        color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        font-family: 'Arial', sans-serif;
    }
    
    .weather-icon {
        font-size: 2.5rem;
        margin-bottom: 5px;
    }
    
    .weather-temp {
        font-size: 1.8rem;
        font-weight: bold;
    }
    
    .weather-location {
        font-size: 1rem;
        opacity: 0.8;
    }
    
    /* Для разных погодных условий */
    .sunny { background-image: url('https://i.pinimg.com/originals/a9/bc/d9/a9bcd9d7dca5ddfb55e87b9b04f795d9.jpg'); }
    .rainy { background-image: url('https://w-dog.ru/wallpapers/2/2/390304959834711/gorod-dozhd-cherno-beloe-nuar.jpg'); }
    .cloudy { background-image: url('https://i.pinimg.com/originals/4c/69/71/4c69719ef68eb2c5cb46fd22a2183964.jpg'); }
    .night { background-image: url('https://i.ytimg.com/vi/rVS4FBIPTTA/maxresdefault.jpg'); }
    .snowy { background-image: url('https://i.pinimg.com/originals/3b/9e/1c/3b9e1c67329748f4dd25b5b47573eaa8.jpg'); }
    .sakura { background-image: url('https://i.pinimg.com/originals/fb/2b/9f/fb2b9f691503d2eef2b8b339f533d3a3.jpg'); }
</style>

<script>
// Данные для фонов (замените ссылки на свои)
const wallpapers = {
    day: {
        sunny: 'https://i.pinimg.com/originals/a9/bc/d9/a9bcd9d7dca5ddfb55e87b9b04f795d9.jpg',
        cloudy: 'https://avatars.mds.yandex.net/get-altay/2752367/2a000001729d45cb3e78dbe1a52ca7ad0866/orig',
        rainy: 'https://i.pinimg.com/originals/fb/7e/31/fb7e31b104fb84dec21fdd3cc37ed546.jpg'
    },
    night: {
        clear: 'https://i.ytimg.com/vi/rVS4FBIPTTA/maxresdefault.jpg',
        rainy: 'https://w-dog.ru/wallpapers/2/2/390304959834711/gorod-dozhd-cherno-beloe-nuar.jpg',
        cloudy: 'https://i.pinimg.com/originals/4c/69/71/4c69719ef68eb2c5cb46fd22a2183964.jpg'
    },
    special: {
        snow: 'https://i.pinimg.com/originals/3b/9e/1c/3b9e1c67329748f4dd25b5b47573eaa8.jpg',
        sakura: 'https://i.pinimg.com/originals/fb/2b/9f/fb2b9f691503d2eef2b8b339f533d3a3.jpg'
    }
};

// Погодные иконки
const weatherIcons = {
    sunny: '☀️',
    rainy: '🌧️',
    cloudy: '☁️',
    snowy: '❄️',
    night: '🌙',
    sakura: '🌸',
};

// Основная функция обновления
function updateWallpaper() {
    const now = new Date();
    const hour = now.getHours();
    const month = now.getMonth();
    const wallpaper = document.querySelector('.anime-wallpaper');
    const weatherIcon = document.getElementById('weather-icon');
    const tempDisplay = document.getElementById('weather-temp');
    const locationDisplay = document.getElementById('weather-location');
    
    // Определяем время суток
    const isDayTime = hour >= 6 && hour < 20;
    const isMorning = hour >= 6 && hour < 10;
    const isEvening = hour >= 17 && hour < 20;
    
    // Определяем сезон
    let season = '';
    if (month >= 2 && month <= 4) season = 'spring';
    else if (month >= 5 && month <= 7) season = 'summer';
    else if (month >= 8 && month <= 10) season = 'autumn';
    else season = 'winter';
    
    // Генерируем случайную погоду (можно заменить на реальные данные API)
    const weatherTypes = ['sunny', 'cloudy', 'rainy'];
    if (season === 'winter') weatherTypes.push('snowy');
    const currentWeather = weatherTypes[Math.floor(Math.random() * weatherTypes.length)];
    
    // Устанавливаем фон
    let bgClass = isDayTime ? currentWeather : 'night';
    if (season === 'spring' && Math.random() > 0.7) bgClass = 'sakura';
    wallpaper.className = `anime-wallpaper ${bgClass}`;
    
    // Обновляем информацию о погоде
    weatherIcon.textContent = weatherIcons[currentWeather];
    
    // Генерируем температуру в зависимости от сезона
    let temp;
    switch(season) {
        case 'summer': temp = 25 + Math.floor(Math.random() * 15); break;
        case 'winter': temp= -10 + Math.floor(Math.random() * 15); break;
        default: temp = 10 + Math.floor(Math.random() * 15);
    }
    tempDisplay.textContent = `${temp}°C`;
    
    // Аниме-локации для отображения
    const locations = ['Коноха', 'Акацуки', 'Готэм', 'Академия Юэй', 'Марли'];
    locationDisplay.textContent = locations[Math.floor(Math.random() * locations.length)];
    
    // Для особых случаев
    if (season === 'spring' && bgClass === 'sakura') {
        weatherIcon.textContent = '🌸';
        locationDisplay.textContent = 'Страна Цветов';
    }
}

// Обновляем каждые 3 часа
updateWallpaper();
setInterval(updateWallpaper, 3 * 60 * 60 * 1000);

// Или использовать реальное API погоды (раскомментируйте):
/*
async function getRealWeather() {
    const response = await fetch('https://api.openweathermap.org/data/2.5/weather?q=Tokyo&appid=YOUR_API_KEY');
    const data = await response.json();
    return data.weather[0].main; // "Rain", "Clouds" и т.д.
}
*/
</script>
</body>
</html>